
.. _events:

*******************
跟踪事件列表
*******************

事件选项
===========

许多事件都有控制其具体行为的选项。例如，tcp_congestion事件可以用mask过滤掉那些不感兴趣的拥塞事件。

而且还有一些所有事件都支持的公共选项。

primary
-----------

默认情况下，skbtrace对于所有事件都是独立对待的，也就是你启用了它，并且通过了各种过滤器设置，skbtrace就把它们会记录下来。但在有些情况下，这种简化的模型导致了很多没有价值的事件被记录了下来。

有些条件下，我们可能需要这种行为。只有事件A发生了，它之前发生的事件B对我们才有价值。也就是说，只有事件A发生了，记录事件B的才有价值。这种场景了，我们称事件A为“主事件”，事件B为”从事件“。primary选项的用途，就是指定主事件名称。

例如，在skbtrace的-e用法时，如果我们指定了-e tcp_rttm,primary=tcp_congestion，就意味着，只有在发生了tcp_congestion时，才会将它之前发生的tcp_rttm事件从内核的缓冲中记录下来。

目前实现的限制是：一个主事件可以对应多个从事件，但每个从事件只能从属于一个主事件。最多可记录32个从事件。

通用事件
===========

skb_rps_info
------------

   显示RPS的散列信息。

TCP
============

tcp_congestion
---------------
   TCP拥塞事件。

tcp_connection
---------------
   基本TCP状态迁移事件。

icsk_connection
-----------------
   X

tcp_sendlimit
---------------
   TCP停止发送事件。

tcp_ca_state
--------------
   X

tcp_rttm
--------------
   X

sk_timer
-------------
   X

tcp_active_conn
-----------------
